<link href="~/Content/fullcalendar.min.css" rel="stylesheet" />
<link href="~/Content/fullcalendar.print.css" rel="stylesheet" media="print" />
<div id="calendar" class="col-sm-10 col-sm-offset-2">
    
</div>

@section scripts{
<script src="~/Scripts/moment-with-locales.min.js"></script>
<script src="~/Scripts/fullcalendar.js"></script>
<script src="~/Scripts/lib/jquery-ui.min.js"></script>
<script src="~/Scripts/fullcalendar.min.js"></script>
<script src="~/Scripts/moment.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var events = [];
            $.ajax({
                type: "GET",
                url: "/Calendar/GetData",
                success: function (data) {
                    $.each(data, function (i, v) {
                        events.push({
                            title: v.Title,
                            start: moment(v.StartOfVacation),
                            end: v.EndOfVacation != null ? moment(v.EndOfVacation) : null
                        });
                    })
                    GenerateCalendar(events);
                },
                error: function (error) {
                    alert("Failed");
                }

                })


            function GenerateCalendar(events) {
                $('#calendar').fullCalendar('destroy');
                $('#calendar').fullCalendar({
                    contentHeight: 600,
                    default: "30%",
                    defaultDate: new Date(),
                    timeFormat: 'H(:mm)',
                    header: {
                        left: 'prev,next today',
                        center: 'Calendar',
                        right:'month, basicweek,basicday,agenda'
                    },
                    eventLimit: true,
                    events:events
                })
            }
            
        })
    </script>

 }